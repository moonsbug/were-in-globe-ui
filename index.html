<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>We're In - Globe UI</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: 'Arial', sans-serif; background: #000; color: #e7f0ff; overflow: hidden; }

  .container { display: flex; flex-direction: row; height: 100vh; width: 100vw; }
  @media(max-width: 900px) { .container { flex-direction: column; } }

  /* Left Panel */
  .panel {
    flex: 1; max-width: 750px; min-width: 500px; /* Widened panel */
    margin: 10px; padding: 24px;
    background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
    border-radius: 14px; border: 1px solid #1e6ad680;
    backdrop-filter: blur(6px) saturate(120%);
    display: flex;flex-direction: column; gap:0px; z-index:2;
  }
  .panel h1 {
    font-size: 2rem; font-weight: 900; letter-spacing: .8px;
    filter: drop-shadow(0 0 10px rgba(58,160,255,.35));
      max-width: 320px;   
  min-width: 220px;   
  margin: 10px;     
  padding: 12px;      
    margin-bottom: 0
  }

  /* Search Bar */
  .search{
    display:flex; gap:10px; align-items:center;
    background: rgba(10,14,24,.65); border-radius: 16px; /* Rounded rectangle */
    padding: 12px 16px; border: 1px solid #1e6ad680;
    max-width: 460px;
    max-height: 40px;
  }
  .search input { flex:1; border:none; outline:none; background:transparent; color:#dce7ff; font-size:1rem; }
  .search button { border:none; padding:10px 16px; border-radius:999px; cursor:pointer; background:#3aa0ff; color:#fff; }

  /* Shortcuts */
  .shortcuts { display:flex; flex-wrap: wrap; gap:20px; margin-top:8px; }
  .shortcut {
    display:flex; align-items:center; gap:6px; padding:6px 12px;
    border-radius:200px; background: rgba(10,14,24,.65); cursor:pointer;
    font-size:0.9rem; border: 1px solid #1e6ad680; transition: 0.2s; user-select:none;
  }
  .shortcut:hover { background: rgba(58,160,255,.2); }

  /* Edit Shortcuts Button */
  .edit-shortcuts {
    margin-top: auto; padding:6px 18px; border-radius:999px;
    border:1px solid #3aa0ff; background: rgba(42,104,255,.2); color:#eaf2ff;
    cursor:pointer; font-size: 0.95rem; max-height: 30px; max-width: 200px;
  }

  /* Right Panel */
  .globe-container { flex: 2; position: absolute; top: 0;
        left: 300px;
        width: 100vw;
        height: 100vh;
        z-index: 1; /* Behind the left panel */}
  canvas { display:block; width:100%; height:100%; }

  /* Triangles Background */
  .triangle {
    position:absolute; width:0; height:0; border-left:60px solid transparent;
    border-right:60px solid transparent; border-bottom:100px solid rgba(58,160,255,0.05);
    animation: float 15s infinite linear;
  }
  @keyframes float { 0% { transform:translateY(0) rotate(0deg); } 100% { transform:translateY(-100vh) rotate(360deg); } }
</style>
</head>
<body>

<div class="container">
  <!-- Left Panel -->
  <div class="panel">
    <h1>We're In</h1>
   <div class="search">
   <form id="searchForm" style="display:flex;gap:10px;flex:1;">
    <input type="text" id="searchInput" placeholder="query the grid..." />
    <button type="submit">Go</button>
   </form>
   </div>
    <div class="shortcuts" id="shortcuts">
      <div class="shortcut" onclick="openLink('https://mail.google.com')"> Inbox</div>
      <div class="shortcut" onclick="openLink('https://discord.com/channels/@me')"> Discord</div>
      <div class="shortcut" onclick="openLink('https://web.whatsapp.com')"> WhatsApp</div>
      <div class="shortcut" onclick="openLink('https://youtube.com')"> YouTube</div>
      <div class="shortcut" onclick="openLink('https://instagram.com')"> Instagram</div>
      <div class="shortcut" onclick="openLink('https://github.com')"> GitHub</div>
    </div>
    <button class="edit-shortcuts" onclick="editShortcuts()">Edit Shortcuts</button>
  </div>

  <!-- Right Panel -->
  <div class="globe-container" id="globeContainer"></div>
</div>

<!-- Triangles Background -->
 <!-- Add more of these lines in your HTML -->
<div class="triangle" style="left:85%; animation-duration:14s;"></div>
<div class="triangle" style="left:25%; animation-duration:16s;"></div>
<div class="triangle" style="left:55%; animation-duration:22s;"></div>
<!-- ...add as many as you want... --> 
<div class="triangle" style="left:10%; animation-duration:12s;"></div>
<div class="triangle" style="left:40%; animation-duration:18s;"></div>
<div class="triangle" style="left:70%; animation-duration:20s;"></div>
<script>
  // Remove static triangles if present
  document.querySelectorAll('.triangle').forEach(t => t.remove());

  // Generate 40 random triangles
  for(let i=0; i<7; i++) {
    const tri = document.createElement('div');
    tri.className = 'triangle';
    tri.style.left = (Math.random() * 100) + '%';
    tri.style.top = (Math.random() * 100) + '%';
    tri.style.animationDuration = (12 + Math.random() * 12) + 's';
    tri.style.transform = `rotate(${Math.random()*360}deg)`;
    document.body.appendChild(tri);
  }
</script>
<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.min.js"></script>
<script>
  // Search Function
  function searchGoogle() {
    const query = document.getElementById('searchInput').value;
    if(query) window.open('https://www.google.com/search?q=' + encodeURIComponent(query), '_blank');
  }
  function openLink(url) { window.open(url,'_blank'); }

  // Edit Shortcuts
  const STORAGE_KEY = 'myweb_shortcuts_v1';
function loadShortcuts() {
  try {
    return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [
      { name: "Inbox", url: "https://mail.google.com" },
      { name: "Discord", url: "https://discord.com/channels/@me" },
      { name: "WhatsApp", url: "https://web.whatsapp.com" },
      { name: "YouTube", url: "https://youtube.com" },
      { name: "Instagram", url: "https://instagram.com" },
      { name: "GitHub", url: "https://github.com" }
    ];
  } catch {
    return [];
  }
}
function saveShortcuts(arr) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
}
function renderShortcuts() {
  const container = document.getElementById('shortcuts');
  container.innerHTML = '';
  shortcuts.forEach(s => {
    const div = document.createElement('div');
    div.className = 'shortcut';
    div.innerText = s.name;
    div.onclick = () => openLink(s.url);
    container.appendChild(div);
  });
}

  let shortcuts = loadShortcuts();
  renderShortcuts();

  function editShortcuts() {
  let action = prompt("Type 'add' to add or 'remove' to remove a shortcut:").toLowerCase();
  if(action==='add'){
    const name = prompt("Shortcut name:");
    const url = prompt("Shortcut URL:");
    if(name && url){
      shortcuts.push({ name, url });
      saveShortcuts(shortcuts);
      renderShortcuts();
    }
  } else if(action==='remove'){
    const names = shortcuts.map(s=>s.name).join(", ");
    const nameToRemove = prompt("Type the shortcut name to remove:\n" + names);
    shortcuts = shortcuts.filter(s => s.name.toLowerCase() !== nameToRemove.toLowerCase());
    saveShortcuts(shortcuts);
    renderShortcuts();
  }
  }
  document.getElementById('searchForm').onsubmit = function(e) {
  e.preventDefault();
  searchGoogle();
};

  // === Scene Setup ===
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(65, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.z = 5;
  const renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.getElementById('globeContainer').appendChild(renderer.domElement);

  // Globe
  const earth = new THREE.Mesh(
    new THREE.SphereGeometry(1.5, 64, 64),
    new THREE.MeshBasicMaterial({color:0x66ccff, wireframe:true, transparent:true, opacity:0.25})
  );
  scene.add(earth);

  const cage = new THREE.LineSegments(
    new THREE.EdgesGeometry(new THREE.IcosahedronGeometry(3)),
    new THREE.LineBasicMaterial({color:0x66ccff, transparent:true, opacity:0.4})
  );
  scene.add(cage);

  // Orbiting Particle
  const particleGeo = new THREE.SphereGeometry(0.06,16,16);
  const particleMat = new THREE.MeshBasicMaterial({color:0xffffff});
  const particle = new THREE.Mesh(particleGeo, particleMat);
  scene.add(particle);

  const maxTrailPoints = 100;
  const trailPositions = new Float32Array(maxTrailPoints*3);
  const trailGeo = new THREE.BufferGeometry();
  trailGeo.setAttribute('position', new THREE.BufferAttribute(trailPositions,3));
  const trailMat = new THREE.LineBasicMaterial({color:0xffffff, transparent:true, opacity:0.8});
  const trail = new THREE.Line(trailGeo, trailMat);
  scene.add(trail);

  let angle=0, orbitRadius=2.2;

  function animate(){
    requestAnimationFrame(animate);
    earth.rotation.y += 0.0015;
    cage.rotation.y -= 0.0008;

    angle += 0.02;
    const x = Math.cos(angle)*orbitRadius;
    const y = 0.3;
    const z = Math.sin(angle)*orbitRadius;
    particle.position.set(x,y,z);

    trailPositions.copyWithin(3,0,(maxTrailPoints-1)*3);
    trailPositions[0]=x; trailPositions[1]=y; trailPositions[2]=z;
    trailGeo.attributes.position.needsUpdate=true;

    const opacity = Math.max(0.2, Math.cos(angle)*0.8 + 0.2);
    trail.material.opacity = opacity;
    particle.material.opacity = opacity;

    renderer.render(scene,camera);
  }
  animate();

  window.addEventListener("resize", () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>
</body>
</html>
